<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pamasko Money Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Poppins', sans-serif; background-color: #F7F7F7; display: flex; align-items: center; justify-content: center; height: 100vh; overflow: hidden; position: relative; color: #333; transition: background-color 0.3s, color 0.3s; }
    body.dark-mode { background-color: #1a1a1a; color: #fff; }
    .card { position: relative; background-color: #fff; border-radius: 20px; padding: 40px 30px; text-align: center; box-shadow: 0 15px 40px rgba(0,0,0,0.1); width: 360px; max-width: 90%; border: 1px solid #ECECEC; z-index: 2; transition: background-color 0.3s, color 0.3s, border 0.3s; }
    body.dark-mode .card { background-color: #2c2c2c; border: 1px solid #444; color: #fff; }
    h1 { font-size: 2rem; color: #FF6A3D; margin-bottom: 20px; font-weight: 700; transition: color 0.3s; }
    body.dark-mode h1 { color: #FF9B5E; }
    #gift { font-size: 3rem; color: #FF6A3D; margin-top: 15px; transition: transform 0.3s ease, color 0.3s; font-weight: 600; }
    body.dark-mode #gift { color: #FF9B5E; }
    button { background: #FF6A3D; border: none; padding: 15px 40px; font-size: 1.2rem; font-weight: 600; border-radius: 12px; color: #fff; cursor: pointer; box-shadow: 0 8px 20px rgba(0,0,0,0.15); transition: all 0.3s ease; margin-top: 25px; }
    button:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 12px 25px rgba(0,0,0,0.2); }
    body.dark-mode button { background: #FF9B5E; }
    .dark-mode-toggle { position: absolute; top: 20px; right: 20px; background: #FF6A3D; color: #fff; border: none; padding: 10px 20px; border-radius: 12px; cursor: pointer; font-weight: 600; box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: background 0.3s; }
    .dark-mode-toggle:hover { background: #FF9B5E; }
    .credits { margin-top: 30px; font-size: 0.85rem; color: #888; transition: color 0.3s; }
    body.dark-mode .credits { color: #bbb; }
    canvas { position: absolute; top:0; left:0; pointer-events:none; z-index:1; }
</style>
</head>

<body>
<button id="darkModeBtn" class="dark-mode-toggle">üåô Dark Mode</button>

<canvas id="confetti"></canvas>

<div class="card">
    <h1>üéÅ Pamasko Mula kay Ninong/Ninang üéÅ</h1>
    <button id="claimBtn">Claim your Aguinaldo</button>
    <div id="gift">‚Ç±0</div>
    <div class="credits">Created by Rolly Ramirez</div>
</div>

<audio id="coinSound" src="https://www.soundjay.com/misc/sounds/coin-drop-3.mp3" preload="auto"></audio>
<audio id="cheerSound" src="https://www.soundjay.com/human/sounds/applause-8.mp3" preload="auto"></audio>
<audio id="congratsSound" src="https://www.soundjay.com/human/sounds/cheering-01.mp3" preload="auto"></audio>

<script>
const giftEl = document.getElementById('gift');
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
const coinSound = document.getElementById('coinSound');
const cheerSound = document.getElementById('cheerSound');
const congratsSound = document.getElementById('congratsSound');
const claimBtn = document.getElementById('claimBtn');
const darkModeBtn = document.getElementById('darkModeBtn');
let confettiParticles = [];

function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
window.addEventListener('resize', resizeCanvas); resizeCanvas();

// Claim button behavior: change text after click
claimBtn.addEventListener('click', () => {
    const amounts = [10,20,30,40,50,50,50,50,50,60,70,80,90,100,200,300];
    const amount = amounts[Math.floor(Math.random()*amounts.length)];
    giftEl.textContent = `‚Ç±${amount}`;
    giftEl.style.transform = "scale(1.3)";
    setTimeout(()=>giftEl.style.transform="scale(1)",300);

    // Mobile-friendly audio
    coinSound.currentTime=0; cheerSound.currentTime=0; congratsSound.currentTime=0;
    coinSound.play().catch(()=>{});
    setTimeout(()=>{cheerSound.play().catch(()=>{});},100);
    setTimeout(()=>{congratsSound.play().catch(()=>{});},200);

    launchConfettiBurst();

    // Change button text
    claimBtn.textContent = "Try Again";
});

darkModeBtn.addEventListener('click', ()=>{
    document.body.classList.toggle('dark-mode');
    darkModeBtn.textContent = document.body.classList.contains('dark-mode') ? "üåû Light Mode" : "üåô Dark Mode";
});

function launchConfettiBurst(){
    const colors=['#FF3C3C','#FF6A3D','#3BCB81','#FFD700','#FFFFFF'];
    for(let i=0;i<150;i++){
        confettiParticles.push({
            x:Math.random()*window.innerWidth,
            y:Math.random()*window.innerHeight-window.innerHeight,
            r:Math.random()*6+4,
            color:colors[Math.floor(Math.random()*colors.length)],
            dx:(Math.random()-0.5)*4,
            dy:(Math.random()+2),
            gravity:0.2,
            tilt:Math.random()*10-5,
            tiltAngleIncrement:Math.random()*0.07+0.05,
            tiltAngle:0
        });
    }
    requestAnimationFrame(drawConfetti);
}

function drawConfetti(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettiParticles.forEach((p,i)=>{
        ctx.beginPath();
        ctx.lineWidth=p.r/2;
        ctx.strokeStyle=p.color;
        ctx.moveTo(p.x+p.tilt,p.y);
        ctx.lineTo(p.x+p.tilt+p.r/2,p.y+p.tilt+p.r/2);
        ctx.stroke();
        p.tiltAngle+=p.tiltAngleIncrement;
        p.x+=p.dx;
        p.y+=p.dy;
        p.dy+=p.gravity;
        p.tilt=Math.sin(p.tiltAngle)*15;
        if(p.y>window.innerHeight+10){confettiParticles.splice(i,1);}
    });
    if(confettiParticles.length>0){requestAnimationFrame(drawConfetti);}
}
</script>
</body>
</html>
